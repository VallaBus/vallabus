<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seguimiento de paradas y líneas de AUVASA</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <button id="installButton" style="display: none;">Instalar</button>

    <h1>AUVASA Tracker</h1>

    <div id="formulario">
        <input type="number" id="stopNumber" placeholder="Número de parada" />
        <input type="number" id="lineNumber" placeholder="Línea" />
        <button id="addButton">Añadir a seguimiento</button>
    </div>

    <div class="bus-list" id="busList">
        <!-- Aquí se mostrarán las líneas de autobús y tiempos de espera -->
    </div>

    <div>
        <p class="foot-note">Actualización de datos automática cada 30s o al recargar la página.</p>
        <button id="removeAllButton">Quitar todas</button>
    </div>

    <footer>
        <a href="https://github.com/nukeador/auvasa-tracker">Código</a>
        <a href="https://github.com/nukeador/auvasa-tracker/issues">Informar de un error</a>
        <a href="https://www.gnu.org/licenses/agpl-3.0.html">Licencia AGPL 3</a>
    </footer>

    <script src="script.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
                    // Registro exitoso
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    // Registro fallido
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
    
</body>

</html>
