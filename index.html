<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUVASA Tracker - Seguimiento de tus paradas y buses en una sola pantalla</title>

    <!-- Descripción General -->
    <meta name="description" content="Descripción breve de la página.">

    <!-- Open Graph: Facebook, LinkedIn, y otros -->
    <meta property="og:title" content="AUVASA Tracker" />
    <meta property="og:description" content="🚏 Seguimiento de tus paradas y buses en una sola pantalla." />
    <meta property="og:image" content="https://nukeador.github.io/auvasa-tracker/img/logo.png" />
    <meta property="og:url" content="https://nukeador.github.io/auvasa-tracker/" />
    <meta property="og:type" content="website" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AUVASA Tracker">
    <meta name="twitter:description" content="🚏 Seguimiento de tus paradas y buses en una sola pantalla.">
    <meta name="twitter:image" content="https://nukeador.github.io/auvasa-tracker/img/logo.png">

    <link rel="icon" type="image/x-icon" href="favicon.png">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="manifest" href="manifest.json">

    <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u="//stats.nukeador.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '6']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
</head>

<body>
    <button id="installButton" style="display: none;">Instalar</button>

    <h1>AUVASA Tracker</h1>
 
    <div id="formulario">
        <div id="inputs">
            <input type="text" id="stopNumber" placeholder="Parada" /> <input type="text" id="lineNumber" placeholder="Línea" />
        </div>
        <div id="autocompleteResults"></div>
        <div id="lineSuggestions"></div>
        <button id="addButton">Añadir a seguimiento</button>
    </div>

    <!-- Cuadro de búsqueda oculto inicialmente -->
    <div id="searchBox" style="display:none;">
        <input type="text" id="stopName" placeholder="Nombre de la parada" />
        <div id="searchResults"></div>
    </div>

    <div class="bus-list" id="busList">
        <!-- Aquí se mostrarán las líneas de autobús y tiempos de espera -->
    </div>

    <div class="foot-note">
        <button id="removeAllButton">Quitar todas las paradas</button>
        <p id="last-update">Última actualización: --</p>
        <p>Actualización cada 30s o al recargar la página.</p>
        <p id="data-notice">Datos proporcionados sin ninguna garantía, ya que AUVASA no ofrece una forma oficial de acceder a ellos.</p>
        <a class="twitter-share-button" href="https://twitter.com/intent/tweet/?text=%F0%9F%9A%8FAUVASA%20Tracker%20te%20permite%20hacer%20un%20seguimiento%20de%20tus%20paradas%20y%20l%C3%ADneas%20de%20bus%20favoritas%20en%20una%20sola%20pantalla.%20%C2%A1Dale%20un%20vistazo%21%20%0A%0Ahttps%3A%2F%2Fnukeador.github.io%2Fauvasa-tracker%2F%0A%0Avia%20%40nukeador" target="_blank" rel="noopener" aria-label="Twitter">
            Compartir en Twitter
        </a>        
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://nukeador.github.io/auvasa-tracker/" target="_blank">
            Compartir en Facebook
        </a>          
        <button id="theme-toggle">
            <span id="theme-toggle-icon">🌞</span> <!-- Icono de sol por defecto -->
        </button>              
    </div>

    <footer>
        <a href="https://github.com/nukeador/auvasa-tracker">Código</a>
        <a href="https://github.com/nukeador/auvasa-tracker/issues">Informar de un error</a>
        <a href="https://www.gnu.org/licenses/agpl-3.0.html">Licencia AGPL 3</a>
    </footer>

    
    <script src="script.js"></script>
    <script src="buscador.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
                    // Registro exitoso
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    // Registro fallido
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>

</html>
